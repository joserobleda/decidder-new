(function(b,e){var c=$("#canvas"),a=$("form#question");if(a.length){require(["widget/formEditable"],function(){a.editable(function(f){$(f).bind("edit",function(){$("input.taglist").tagsInput({defaultText:"add predefined response",ready:function(){$(this).attr("data-form-editing",true);
}});});$(f).bind("show",function(){a.find(".tagsinput").remove();});$(f).bind("error",function(){alert("Error, try again!");});if($.address.value()==="/edit"){$(f).bind("show",function(){location.href="#";
});f.edit();}});});}var d=function(){$(".slideEffect").click(function(){$($(this).data("tohide")).hide();$($(this).data("addtext")).html($(this).data("text"));
$("#new-response-doubt").attr("action",$("#new-response-doubt").attr("action")+$(this).data("value"));$($(this).data("target")).animate({width:"toggle"});
});};$(".reveal").click(function(){var m=$(this),i=m.data("reveal-target")||null,n=m.data("reveal-src")||null;function q(){c.css({height:"100%",overflow:"hidden"});
}function j(){c.css({height:"inherit",overflow:"auto"});}function l(t){var s=$(t),u=m.data();u.open=function(){s.find("input:first").focus();};u.close=function(){j();
if(typeof t=="object"){s.remove();}};s.css("margin-left","-"+(s.outerWidth()/2)+"px");s.css("margin-top","-"+(s.outerHeight()/2)+"px");s.reveal(u);}q();
if(i){return l(i);}if(n){var p=$("#loading"),k=false,r,h=n,g="get",o=h.indexOf(":"),f=(o>-1&&o<5);if(f){g=h.substring(0,o);h=h.substring(o+1);}p.reveal({close:function(){j();
if(r&&r.abort()){r.abort();}},opened:function(){if(k){p.trigger("reveal:close");}}});r=$.ajax({url:h,type:g,error:function(u,s,t){alert(t);k=t;},success:function(u,t,v){var w=v.getResponseHeader("content-type");
if(w.indexOf("text/html")===0){var s=$(u).hide().appendTo(c);p.hide();l(s);d();}}});}});})(window);